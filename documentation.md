# Documentation

The DARIAH-DE status page is generated by [Jekyll](https://jekyllrb.com/).

## The infrastructure and its components

The DARIAH-DE infrastructure is modelled using [Jekyll Collections](https://jekyllrb.com/docs/collections/).
The infrastructure is modelled using four layers:

1. Services
2. Middlewares
3. Servers
4. Infrastructure

The model is top down, in that an item can depend on other items from lower layers.

Any item is described by a collection entry with the following metadata preamble.

```yaml
---
title: 'Item Title for display'
description: 'This is a sample entry'
url: 'http://item.url/'
dependencies:
  - '/infrastructure/otheritem'
  - '/servers/machine'
---
```

The `dependencies` must be stated using the `id` of the collection entry, i.e. `/:collection/:name` where `:collection` is the name of the collection and `:name` if the filename without extension of the entry.

## Outages and Announcements

All service disruptions and announcements are registered in [Jekyll Data Files](https://jekyllrb.com/docs/datafiles/). 

```yaml
---
- title: 'This is the heading on the status page'
  description: 'This describes what the entry is about.'
  affected:
    - '/infrastructure/otheritem'
    - '/servers/machine'
```

Using [Liquid](https://shopify.github.io/liquid/) processing, all services depending on (or listed as) item in the `affected` array are shown on the status page. The array items use the same `id` schema as the infrastructure components dependencies.


